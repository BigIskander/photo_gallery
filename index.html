<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Photo gallery.</title>
        <meta name="description" content="Photo gallery, vanilla JS script.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="gallery.css">
        <script src="json_variable.js"></script>
    </head>
    <body>
        <div>
            <div id="backText" style="margin-bottom: 5px;"><a href="JavaScript:void(0);" onclick="back()">Назад к списку фото.</a></div>
            <div id="large_image" class="galleryLarge">
                <div style="width: 100%; text-align: center;">
                    <img id="imageLarge" src="/images/100.jpg" style="max-width: 700px; max-height: 700px; margin: 0px;">
                </div>
            </div>
            <div class="galleryWrap">
                <div id="gallery" class="gallery"></div>
            </div>
        </div>
        <script>
            var gallery = document.getElementById("gallery");
            var largeImage = document.getElementById("large_image");
            var backText = document.getElementById("backText");
            gallery.style.flexWrap = "wrap";
            gallery.style.height = "800px";
            largeImage.style.visibility = "hidden";
            largeImage.style.overflow = "clip";
            largeImage.style.height = "0px";
            backText.style.visibility = "hidden";
            // create miniatures
            for (const image of images) {
                var miniatureDiv = document.createElement("div");
                miniatureDiv.className = "miniature";
                var miniatureDivDiv = document.createElement("div");
                miniatureDivDiv.className = "miniature_inside";
                miniatureDiv.appendChild(miniatureDivDiv);
                var miniatureImage = new Image();
                miniatureImage.src = image.miniature;
                miniatureImage.style.margin = "0px";
                miniatureDivDiv.appendChild(miniatureImage);
                // add event listener to miniature
                miniatureDiv.addEventListener("click", () => {
                    gallery.style.removeProperty("flex-wrap");
                    gallery.style.removeProperty("height");
                    var imageLarge = document.getElementById("imageLarge");
                    imageLarge.src = image.image;
                    largeImage.style.visibility = "visible";
                    largeImage.style.removeProperty("height");
                    backText.style.visibility = "visible";
                });
                gallery.appendChild(miniatureDiv);
            }
            function back() {
                largeImage.style.visibility = "hidden";
                largeImage.style.height = "0px";
                gallery.style.flexWrap = "wrap";
                gallery.style.height = "800px";
                backText.style.visibility = "hidden";
            }
        </script>
    </body>
</html>